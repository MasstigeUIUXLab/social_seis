"use strict";!function(h){h.fn.navDrop=function(e){var s=h.extend({type:void 0,background:!0,backgroundClass:".nav__bg",backgroundAutoColor:!1,effect:"fade",delay:200,callback:function(){}},e),t=f(s.type),n=f(h(this)),a=f(n.find(".nav")),o=f(n.find(".nav .depth-1")),i=f(n.find(".nav .depth-1").children(".link")),d=f(n.find(".nav .submenu")),u=f(h(s.backgroundClass)),e=s.backgroundAutoColor,l=f(s.effect),c=0===s.delay?0:f(s.delay);switch(t){case"all":a.addClass("gnb-drop--all"),s.background&&r(),o.on("mouseover focus",function(){o.removeClass("hover"),h(this).addClass("hover")}),o.on("mouseleave",function(){h(this).removeClass("hover")}),i.each(function(e){h(this).on("mouseover focus",function(){n.addClass("gnb-hover"),"fade"===l?d.stop(!1,!0).fadeIn(c):"slide"===l&&d.stop(!1,!0).slideDown(c)})}),n.on("mouseleave",function(){n.removeClass("gnb-hover"),"fade"===l?d.stop(!1,!0).fadeOut(c):"slide"===l&&d.stop(!1,!0).slideUp(c)});break;case"each":a.addClass("gnb-drop--each"),o.on("mouseover focus",function(){o.removeClass("hover"),h(this).addClass("hover")}),o.on("mouseleave",function(){h(this).removeClass("hover")}),i.each(function(e){h(this).on("mouseover focus",function(){n.addClass("gnb-hover"),0<h(this).next().length?"fade"===l?(d.stop(!1,!0).fadeOut(c),h(this).next().stop(!1,!0).fadeIn(c)):"slide"===l&&(d.stop(!1,!0).slideUp(c),h(this).next().stop(!1,!0).slideDown(c)):"fade"===l?d.stop(!1,!0).fadeOut(c):"slide"===l&&d.stop(!1,!0).slideUp(c)})}),a.on("mouseleave",function(){n.removeClass("gnb-hover"),"fade"===l?d.stop(!1,!0).fadeOut(c):"slide"===l&&d.stop(!1,!0).slideUp(c)}),s.background&&r();break;case"line":a.addClass("gnb-drop--line"),o.on("mouseover focus",function(){o.removeClass("hover"),h(this).addClass("hover")}),o.on("mouseleave",function(){h(this).removeClass("hover")}),i.each(function(e){h(this).on("mouseover focus",function(){0<h(this).next().length?(d.stop(!1,!0).hide(),h(this).next().stop(!1,!0).css("display","flex")):d.stop(!1,!0).hide()})}),a.on("mouseleave",function(){d.stop(!1,!0).hide()}),s.background&&r();break;default:console.warn("navDrop의 type 선언이 옳바르지 않습니다.")}function f(e){var o=null!=e&&e;if(o)return e.context?0<e.length&&e:o}function r(){if(!u)return console.warn(s.backgroundClass+" 엘리먼트를 찾을 수 없습니다."),0;var o=0;switch(d.each(function(){h(this).outerHeight()>o&&(o=h(this).outerHeight())}),u.outerHeight(o),t){case"all":i.each(function(e){h(this).on("mouseover focus",function(){d.each(function(){h(this).outerHeight()>o&&(o=h(this).outerHeight())}),u.outerHeight(o),d.outerHeight(o),"fade"===l?u.stop(!1,!0).fadeIn(c):"slide"===l&&u.stop(!1,!0).slideDown(c)})}),n.on("mouseleave",function(){"fade"===l?u.stop(!1,!0).fadeOut(c):"slide"===l&&u.stop(!1,!0).slideUp(c)});break;case"each":i.each(function(e){h(this).on("mouseover focus",function(){d.each(function(){h(this).outerHeight()>o&&(o=h(this).outerHeight())}),u.outerHeight(h(this).next(".submenu").outerHeight()),0<h(this).next().length?"fade"===l?u.stop(!1,!0).fadeIn(c):"slide"===l&&u.stop(!1,!0).slideDown(c):"fade"===l?u.stop(!1,!0).fadeOut(c):"slide"===l&&u.stop(!1,!0).slideUp(c)})}),a.on("mouseleave",function(){"fade"===l?u.stop(!1,!0).fadeOut(c):"slide"===l&&u.stop(!1,!0).slideUp(c)});break;case"line":i.each(function(e){h(this).on("mouseover focus",function(){var e,o=h(this).next();0<o.length?(o.stop(!1,!0).css("display","flex"),e=o.outerHeight(),u.css("height",e),"fade"===l?u.stop(!1,!0).fadeIn(c):"slide"===l&&u.stop(!1,!0).slideDown(c)):"fade"===l?u.stop(!1,!0).fadeOut(c):"slide"===l&&u.stop(!1,!0).slideUp(c)})}),a.on("mouseleave",function(){"fade"===l?u.stop(!1,!0).fadeOut(c):"slide"===l&&u.stop(!1,!0).slideUp(c)})}}u&&e&&u.css("background-color",d.css("background-color")),s.callback()}}(jQuery);